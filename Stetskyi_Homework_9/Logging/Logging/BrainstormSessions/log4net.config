<log4net>
  <root>
    <level value ="ALL"/>
    <appender-ref  ref = "consoleWithColors"/>
    <appender-ref  ref = "SmtpPickupDirAppender"/>
    <appender-ref  ref = "SmtpAppender"/>
  </root>

  <appender name ="console" type ="log4net.Appender.ConsoleAppender">
    <layout type ="log4net.Layout.Patternlayout">
      <conversionPattern value ="%date %level %logger -%message%newline"/>
    </layout>
  </appender>

  <appender name ="consoleWithColors" type ="log4net.Appender.ManagedColoredConsoleAppender">

    <mapping>
      <level value ="DEBUG"/>
      <forecolor value="GREEN"/>
    </mapping>
    <mapping>
      <level value ="INFO"/>
      <forecolor value="WHITE"/>
    </mapping>
    <mapping>
      <level value ="WARN"/>
      <forecolor value="YELLOW"/>
    </mapping>
    <mapping>
      <level value ="ERROR"/>
      <forecolor value="RED"/>
    </mapping>
    <mapping>
      <level value ="FATAL"/>
      <forecolor value="BLUE"/>
    </mapping>

    <layout type ="log4net.Layout.Patternlayout">
      <conversionPattern value ="%date %level %logger -%message%newline"/>
    </layout>
  </appender>

  <appender name="SmtpAppender" type="log4net.Appender.SmtpAppender,log4net">
    <threshold value="ALL" />
    <to value="Ihor_Stetskyi@epam.com" />
    <from value="onemangamestudio2015@gmail.com" />
    <subject value="test logging message" />
    <smtpHost value="smtp.gmail.com" />
    <port value="587"/>
    <authentication value="Basic" />
    <username value="onemangamestudio2015@gmail.com"/>
    <password value="MailPasswordShouldBeHere"/>
    <EnableSsl value="false" />
    <bufferSize value="1024" />
    <lossy value="false" />
    <layout type="log4net.Layout.PatternLayout,log4net">
      <conversionPattern value="%date %level - %message%newline%exception"/>
    </layout>
  </appender>

  <appender name="SmtpPickupDirAppender" type="log4net.Appender.SmtpPickupDirAppender">
    <to value="SomeRandomEmail@epam.com" />
    <from value="Ihor_Stetskyi@epam.com" />
    <subject value="test logging message" />
    <pickupDir value="../../../../../MailsToStore" />
    <bufferSize value="512" />
    <FileExtension value="txt"/>
    <lossy value="false" />
    <evaluator type="log4net.Core.LevelEvaluator">
      <threshold value="ERROR"/>
    </evaluator>
    <layout type="log4net.Layout.PatternLayout">
      <conversionPattern value="%date %level - %message%newline%exception" />
    </layout>
  </appender>

</log4net>